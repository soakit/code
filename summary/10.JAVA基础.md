# 1. java 基础

## 1.1 JDK、JRE与JVM

JDK = JRE + Java的开发工具（javac.exe, java.exe, javadoc.exe）
JRE = JVM + Java核心类库

## 1.2 环境变量

- 目的——在任何位置运行java相关命令。

- 配置过程

  JAVA_HOME = jdk的所在目录
  path = %JAVA_HOME%\bin

## 1.3 文档注释

- 注释内容可以被JDK提供的工具 javadoc 所解析，生成一套以网页文件形式体现的该程序的说明文档。

-  操作方式

  ```shell
  javadoc -d [docName] -version [fileName]
  ```

## 1.4  运行java程序

编写源文件(.java) -> 编译，编译器输出字节码(.class文件) -> JVM运行

第1步：编写源代码文件
第2步：使用javac编译器编译源码。编译器同时会检查错误。编译器会产出字节码。任何支持Java的装置都能把它编译成可执行的内容。编译后的字节码与平台无关。
第3步：JVM(Java虚拟机)可以读取并执行字节码。安装了JVM的设备都可运行Java字节码程序。

## 1.5 java程序结构

类存在于源文件里面，方法存在于类中，语句存在于方法中。
什么是源文件？源文件以.java为扩展名，其中带有类的定义。
什么是类？Java是面向对象语言，类是创建对象的模型。Java中，绝大多数的东西都是对象。类中带有一个或多个方法。
什么是方法？方法必须在类中声明，方法是由一组语句组成。
每个Java程序至少有一个类，并且每个Java程序有且仅有一个main()函数。Java中所有的东西都会属于某个类。

## 1.6 main方法

JVM启动时，会寻找你在命令行中所指定的类，并以该类的main方法为入口函数进行程序执行。

> jar包中的manifest文件，指定了程序中唯一main方法所在的类。

# 2. java核心

## 2.1 对象

对象时靠类的模型塑造出来的。对象是已知的事物，对象有属性，也会执行动作。

###### 什么是对象（实例）？什么是实例变量？什么是方法？

对象带有实例变量和方法，这是类设计的一部分。
对象本身已知的状态，即实例变量，它代表对象的状态，每个对象都会独立地拥有一份该类型的值。
对象可以执行的动作，即方法，方法可以读取或操作实例变量。

###### 类和对象之间到底有什么不同？

类不是对象，却是用来创建对象的模型。类是对象的蓝图，类会告诉JVM如何创建出某种类型的对象。根据一个类，JVM可以创建出无数的对象。

###### 如何理解Java垃圾回收机制？

堆，可自动回收垃圾的堆。

## 2.2 变量

Java变量就像是杯子，是一种容器，用于承载某种事物，它有大小和类型。Java编译器不允许将大杯的内容放到小杯中，反过来则可以。

### 2.2.1 大小

| 类型   | 位数 | 范围                 |
| ------ | ------ | ----------------------- |
| char   | 16bits | 0~65535                 |
| byte   | 8bits  | -128~127                |
| short  | 16bits | -32768～32767           |
| int    | 32bits | -2147483648～2147483647 |
| long   | 64bits | -很大～+很大            |
| float  | 32bits | 范围规模可变            |
| double | 64bits | 范围规模可变            |

### 2.2.2 数据类型

- 基本数据类型
  - 数值型
    - 整型
      - byte, shote, int, long
    - 浮点型
      - float, double
  - 字符型(char)
  - 布尔型(boolean)
- 引用数据类型
  - 类(class)
  - 接口(interface)
  - 数组([])

## 2.2.3 数组

Java数组是对象。数组好比是杯架。
一旦数组被声明出来，你就只能装入所声明类型的元素。double类型的变量不能装入int数组中，但是int类型的变量可以装入到double类型的数组中。

## 2.2.4 Q&A

###### 实例变量未初始化时，它的默认值是多少？

数值类型的变量默认值都为0，char类型的默认值也是0。
布尔类型的默认值是false。
引用类型的默认值是null。

###### 实例变量和局部变量有哪些区别？

实例变量是声明在类中的，可以不初始化。
局部变量是声明在方法中的，在被使用之前，必须先初始化。方法的参数，也属于局部变量。

###### 如何判断两个变量是否相等？

equals与==;

- 基本数据类型
  - 使用==
- 引用类型
  - == 比较的是变量(栈)内存中存放的对象的(堆)内存地址，用来判断两个对象的地址是否相同，即是否是指相同一个对象。比较的是真正意义上的指针操作。
  - equals用来比较的是两个对象的内容是否相等，由于所有的类都是继承自java.lang.Object类的，所以适用于所有对象，如果没有对该方法进行覆盖的话，调用的仍然是Object类中的方法，而Object中的equals方法返回的却是==的判断。

## 2.3 对象的行为

###### 对象中，实例变量和方法之间有着怎样的关系？

状态影响行为，行为影响状态。实例变量即状态，方法即行为。

###### 什么是形参(parameter)和实参(argument)？

我们可以给方法传入参数。实参是传给方法的值。当实参传入方法后就成了形参。
给方法传入实参时，实参的顺序、类型、数量必须与形参的顺序、类型、数量完全一致。

###### 什么是Getter和Setter ？

Getter 与 Setter，前者用于返回实例变量的值，后者用于设定实例变量的值。

###### 为什么要封装？为什么把类中的变量暴露出去会很危险？如何对变量数据进行隐藏？

封装会对我们的实例变量加上绝对领域，因此没有人能够改变我们的实例变量。

实现方案：把实例变量标记为private私有的，并提供public公有的getter和setter来控制实例变量的存取动作。

###### 什么是面向对象的编程思维？

所谓面向对象，就是要专注于程序中出现的事物，而不是过程。

###### 什么是伪代码、测试码、真实码？分别有什么用？

1. 伪代码，帮助你专注于逻辑，而不需要顾虑到程序的语法。
2. 测试码，用于程序代码的测试。
3. 真实码，即实际设计出来的真正Java程序代码。

Java程序应该从高层的设计开始。通常在创建新的类时，要写出“伪码->测试码->真实码”。伪码应该描述要做什么事情而不是如何做，使用伪码可以帮助测试码的设计，在实现真实码之前应该要编写测试码。

###### 强制类型的转换？

```java
int a = (int)(Math.random()*5);     // 把非int类型的数字，强转为int类型
int b = Integer.parsetInt("100"); 
```

## 2.4 继承与多态

###### 什么是方法重写(override)？

由子类重新定义从父类中继承来的方法，将其改变或扩展。

###### 区分 IS-A 与 HAS-A 关系

IS-A，表示二者具有继承关系，这是一种单向的链式关系。
HAS-A，表示二者是包含关系。

###### 四种访问控制修改符，它们有哪些区别？

private < default < protected < public
public类型的成员，会被继承。private类型的成员，不会被继承。
一个类的成员，包含自己定义的变量和方法，还包含从父类所继承下来的成员。

###### 继承到底有什么意义？

避免重复的代码；定义共同的协议。

###### 什么是多态？

```
对象的声明、创建与赋值：
Dog d = new Dog();
```

在上述对象的创建过程中，引用类型和对象的类型相同。**在多态中，引用类型和对象的类型可以不同**。

```
Animal d = new Dog();    // 这就是多态
```

在多态中，即引用类型可以是实际对象类型的父类（满足 IS-A 关系，就产生了多态）。

```
Animal[] animals = new Animal[3];
animals[0] = new Dog();
animals[1] = new Cat();
animals[2] = new Wolf();
for(int i=0; i<animals.length; i++) {
  animals[i].eat();     // 调用子类Dog的 eat()方法
  animals[i].roam();    // 调用子类Cat的 roam()方法
}
Dog / Cat / Wolf 都是 Animals 的子类。
```

方法的参数或返回值，也可以是多态。

```
public Animal getAnimal( Animal a ) {
  // 参数a， 可以是Animal子类的对象
  return a;  // 返回Animal对象或者其子类的实例对象。
}
```

**使用多态，你就可以编写出引进新子类时也不必修改的程序。**

**继承关系中，方法覆写要遵守哪些约定？**

> 1. 参数必须要一样，且返回类型必须要兼容。
> 2. 不能降低方法的存取权限。

**什么是方法重载？**
方法名相同，但参数列表不同，即是重载，它与方法的返回值类型、方法的存取权限都无关。